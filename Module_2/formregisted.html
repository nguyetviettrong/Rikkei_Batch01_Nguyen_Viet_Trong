<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ĐĂNG KÝ</title>
    <link rel="stylesheet" href="css/stylesheet.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
    <form class="form-horizontal" role="form">
        <h2>Registration</h2>
        <div class="form-group">
            <label for="Name" class="col-sm-3 control-label">Name*</label>
            <div class="col-sm-9">
                <input type="text" id="Name" class="form-control" autofocus="">
            </div>
        </div>
        <div class="form-group">
            <label for="CMND" class="col-sm-3 control-label">CMND*</label>
            <div class="col-sm-9">
                <input required="true" type="number" id="CMND" class="form-control" minlength="8" maxlength="8">
            </div>
        </div>
        <div class="form-group">
            <label for="birthDate" class="col-sm-3 control-label">Date of Birth*</label>
            <div class="col-sm-9">
                <input type="date" id="birthDate" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="email" class="col-sm-3 control-label">Email* </label>
            <div class="col-sm-9">
                <input type="text" id="email" class="form-control" name="email">
            </div>
        </div>
        <div class="form-group">
            <label for="address" class="col-sm-3 control-label">Address*</label>
            <div class="col-sm-9">
                <input type="text" id="address" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="Customer" class="col-sm-3 control-label">Customer*</label>
            <div class="col-sm-9">
                <select class="Customer" id="Customer">
                    <option>Diamond</option>
                    <option>Platinum</option>
                    <option>Gold</option>
                    <option>Silver</option>
                    <option>Member</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="Sale" class="col-sm-3 control-label">Sale*</label>
            <div class="col-sm-9">
                <input type="number" id="Sale" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="soluong" class="col-sm-3 control-label">Quantity included </label>
            <div class="col-sm-9">
                <input type="number" id="soluong"  class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="songay" class="col-sm-3 control-label">Number of rental days </label>
            <div class="col-sm-9">
                <input type="number" id="songay"  class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="Service" class="col-sm-3 control-label">Service</label>
            <div class="col-sm-9">
                <select class="Service" id="Service">
                    <option>Villa</option>
                    <option>House</option>
                    <option>Room</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="loai" class="col-sm-3 control-label">Type of room</label>
            <div class="col-sm-9">
                <select class="loai" id="loai">
                    <option>Vip</option>
                    <option>Business</option>
                    <option>Normal</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <span class="help-block">*Required fields</span>
            </div>
        </div>
        <button onclick="handle()" type="button" class="btn btn-primary btn-block">Register</button>
    </form> <!-- /form -->
</div>
<table class="table">Thông tin người dùng
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">CMND</th>
        <th scope="col">Date of birth</th>
        <th scope="col">Email</th>
        <th scope="col">Address</th>
        <th scope="col">Customer</th>
        <th scope="col">Sale</th>
        <th scope="col">Quantity included</th>
        <th scope="col">Number of rental days</th>
        <th scope="col">Service</th>
        <th scope="col">Type of room</th>
        <th scope="col">Gia tien</th>
    </tr>
    </thead>

    <tbody>
    <tr>
        <th scope="row">1</th>
        <td id="name_tb"></td>
        <td id="cmnd_tb"></td>
        <td id="ngaysinh_tb"></td>
        <td id="email_tb"></td>
        <td id="address_tb"></td>
        <td id="customer_tb"></td>
        <td id="sale_tb"></td>
        <td id="soluong_tb"></td>
        <td id="number_tb"></td>
        <td id="service_tb"></td>
        <td id="type_tb"></td>
        <td id="giatien_tb"></td>
    </tr>
    </tbody>
    <script>
        var count = 0;
        function handle() {
            var i;
            var reg_email = /^[A-Za-z0-9]+([_\.\-]?[A-Za-z0-9])*@[A-Za-z0-9]+([\.\-]?[A-Za-z0-9]+)*(\.[A-Za-z]+)+$/;
            var reg_soduong=/^\d*$/;
            var email = document.getElementById('email');
            var so_cmnd=document.getElementById('CMND');
            if(reg_soduong.test(so_cmnd.value)==false)
                i += alert("Số cmnd chỉ chứa số dương");
            else if(so_cmnd.value.length!="8")
                i += alert("Số cmnd phải đủ 8 chữ số");
            else if (email.value == "")
                i += alert("Không được bỏ trống email.");
            else if (reg_email.test(email.value) == false)
                i += alert("Email không hợp lệ");
            else {
                count ++;
                var name = document.getElementById("Name").value;
                document.getElementById("name_tb").innerText = name;
                var cmnd = document.getElementById("CMND").value;
                document.getElementById("cmnd_tb").innerText = cmnd;
                var ngaysinh = document.getElementById("birthDate").value;
                document.getElementById("ngaysinh_tb").innerText = ngaysinh
                var email = document.getElementById("email").value;
                document.getElementById("email_tb").innerText = email;
                var address = document.getElementById("address").value;
                document.getElementById("address_tb").innerText = address;
                var customer = document.getElementById("Customer").value;
                document.getElementById("customer_tb").innerText = customer;
                var sale = document.getElementById("Sale").value;
                document.getElementById("sale_tb").innerText = sale;
                var soluongdikem = document.getElementById("soluong").value;
                document.getElementById("soluong_tb").innerText = soluongdikem;
                var number = document.getElementById("songay").value;
                document.getElementById("number_tb").innerText = number;
                var service = document.getElementById("Service").value;
                document.getElementById("service_tb").innerText = service;
                var type = document.getElementById("loai").value;
                document.getElementById("type_tb").innerText = type;
                document.getElementById("giatien_tb").innerText = tinhTien();
                function tinhTien() {
                    return (service == "Villa" ? 500 : service == "House" ? 300 : 100) * number * (1 - sale / 100);
                }
            }
        }
    </script>
</table>
</body>
</html>